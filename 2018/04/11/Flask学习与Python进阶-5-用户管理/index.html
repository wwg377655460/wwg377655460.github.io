<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Flask学习与Python进阶-6-用户管理 | 
        
        Wsdevotion&#39;s Bolg
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content="">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body {
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text {
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Wsdevotion&#39;s Bolg">
    <meta name="msapplication-starturl" content="http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Wsdevotion&#39;s Bolg">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Flask学习与Python进阶-6-用户管理 | Wsdevotion&#39;s Bolg">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="">
    

    
        <meta property="article:published_time" content="Wed Apr 11 2018 21:25:15 GMT+0800">
        <meta property="article:modified_time" content="Wed Apr 11 2018 22:15:14 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html",
    "headline": "Flask学习与Python进阶-6-用户管理",
    "datePublished": "Wed Apr 11 2018 21:25:15 GMT+0800",
    "dateModified": "Wed Apr 11 2018 22:15:14 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "wsdevotion",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.jpg"
        },
        "description": "编程也是一种艺术"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Wsdevotion&#39;s Bolg",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": "",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Flask中的用户管理"><span class="post-toc-number">1.</span> <span class="post-toc-text">Flask中的用户管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#用户模型的定义"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">用户模型的定义</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#两个password函数"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">两个password函数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#check-password函数"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">check_password函数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#UserMixin"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">UserMixin</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#超级强大的用户权限管理插件flask-login"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">超级强大的用户权限管理插件flask_login</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">安装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本配置"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">基本配置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本使用"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">基本使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#限制未登录的用户访问"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">限制未登录的用户访问</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#表单验证"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">表单验证</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#表单模型的构建"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">表单模型的构建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简单的使用"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">简单的使用</span></a></li></ol></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Flask学习与Python进阶-6-用户管理
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>wsdevotion</strong>
        <span>4月 11, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAAAAABd2qZ5AAADh0lEQVR42u3aQW7cQAwEQP//08k1gOPdbnJGWQSlk2DI0qh04JLTX78cfxxfCHDgwIEDBw4cOHDg+GCOr/hI/usvD3t55ffz5G7fz1fvggMHDhw4LnC8KUU/PDhZ6E8Eyd8TvgPvggMHDhw4rnG0i3h9ZVsCZ9ybd8GBAwcOHJ/D8bp9ikZyAUS7Ehw4cODA8f9xJC/fDgT3lDhw4MCB419xJAO1fNH3Wr7N2nDgwIEDxzMc+fDu888fzXfgwIEDB45vHO2RlMZ90GHzxPqNcODAgQPHUY42rNYCnW382hBetH4cOHDgwHGUI9/aebN5c6igJq8xazt/vBsOHDhw4DjKcS/Q0IYe8mLZnr9ZOQ4cOHDguMAxW2jetuWxtrZ4zzbMcODAgQPHPY6kbcvHcHnb1gYU8o+XrB8HDhw4cDzDkTRaebyg3f5pC3bLjQMHDhw4/hXHsFzFrVRbjKM2LG4C3wwHceDAgQPHIY58i6gdI85ar03EoabEgQMHDhxHOfJS1zZjRRMVLH02akx+KODAgQMHjrMcZyMLm2VtYhCbD4kDBw4cOG5w5DfdxA7yAMSsRcxZceDAgQPHMxz5+O9sw5YU5nZoWHwkHDhw4MBxgaMtbO0LzK7Pi2v7RBw4cODA8QxHEjhox3N73FMBiOGsFAcOHDhwrHuWNuKwafZyuFkEfDgcxIEDBw4cC472lWaR6PwOs+2o2YfBgQMHDhw3OJJBWzuS29zzNUq+4VQ8CwcOHDhwXODIS1eyrE2j1XK3WHVHiwMHDhw4So6k4OVxtLww57HvUyGJaNsJBw4cOHCsOZLSmA/4WtB8tJcHKdotLhw4cODAcZYjL375cHAWmM65z25c4cCBAweOZzj2EYcEZR+by+FWhRYHDhw4cIw42vZpFms4RZCv7U1hxoEDBw4c1zhmw75NCdwPAWd3xoEDBw4cT3LkQYfZQHATkmg/T/RTAAcOHDhwHOVoj3yhSbHcf4wDETocOHDgwHGUo23ANm1YS5A3k7MfBzhw4MCB4x7HqW2n2WivLaWv75lsQeHAgQMHjmc4ZqGBvGHbFNfZcDCCw4EDBw4cH8OxL7fJcvcDx9UuHA4cOHDgeISjjSmcpZwdOHDgwIHjeY48xLAphC3fbESYbFzhwIEDB457HHmhSorl5srNVlMLgQMHDhw4bnA4cODAgQMHDhw4cODA8WHHb2mFfIXLM/NsAAAAAElFTkSuQmCC">
    
</ul>

    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Flask学习与Python进阶-6-用户管理&url=http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html&pic=http://wwg377655460.github.io/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Flask学习与Python进阶-6-用户管理&url=http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html&via=wsdevotion" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://wwg377655460.github.io/2018/04/11/Flask学习与Python进阶-5-用户管理/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="Flask中的用户管理"><a href="#Flask中的用户管理" class="headerlink" title="Flask中的用户管理"></a>Flask中的用户管理</h1><h2 id="用户模型的定义"><a href="#用户模型的定义" class="headerlink" title="用户模型的定义"></a>用户模型的定义</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">User</span>(<span class="type">UserMixin</span>, <span class="type">Base</span>):</span></span><br><span class="line"><span class="class">    id = <span class="type">Column</span>(<span class="type">Integer</span>, <span class="title">primary_key</span>=<span class="type">True</span>)</span></span><br><span class="line"><span class="class">    nickname = <span class="type">Column</span>(<span class="type">String(24)</span>, <span class="title">nullable</span>=<span class="type">False</span>)</span></span><br><span class="line"><span class="class">    phone_number = <span class="type">Column</span>(<span class="type">String(18)</span>, <span class="title">unique</span>=<span class="type">True</span>)</span></span><br><span class="line"><span class="class">    _password = <span class="type">Column</span>('<span class="title">password'</span>, <span class="type">String</span>(<span class="title">length</span>=128), nullable=<span class="type">False</span>)</span></span><br><span class="line"><span class="class">    email = <span class="type">Column</span>(<span class="type">String(50)</span>, <span class="title">unique</span>=<span class="type">True</span>, <span class="title">nullable</span>=<span class="type">False</span>)</span></span><br><span class="line"><span class="class">    confirmed = <span class="type">Column</span>(<span class="type">Boolean</span>, <span class="title">default</span>=<span class="type">False</span>)</span></span><br><span class="line"><span class="class">    beans = <span class="type">Column</span>(<span class="type">Float</span>, <span class="title">default</span>=0)</span></span><br><span class="line"><span class="class">    send_counter = <span class="type">Column</span>(<span class="type">Integer</span>, <span class="title">default</span>=0)</span></span><br><span class="line"><span class="class">    receive_counter = <span class="type">Column</span>(<span class="type">Integer</span>, <span class="title">default</span>=0)</span></span><br><span class="line"><span class="class">    wx_open_id = <span class="type">Column</span>(<span class="type">String(50)</span>)</span></span><br><span class="line"><span class="class">    wx_name = <span class="type">Column</span>(<span class="type">String(32)</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    # 对数据进行预处理</span></span><br><span class="line"><span class="class">    # 还可以对数据做只读只写的限制</span></span><br><span class="line"><span class="class">    @property</span></span><br><span class="line"><span class="class">    def password(<span class="title">self</span>):</span></span><br><span class="line"><span class="class">        return self._password</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    @password.setter</span></span><br><span class="line"><span class="class">    def password(<span class="title">self</span>, <span class="title">raw</span>):</span></span><br><span class="line"><span class="class">        self._password = generate_password_hash(<span class="title">raw</span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    def check_password(<span class="title">self</span>, <span class="title">raw</span>):</span></span><br><span class="line"><span class="class">        return check_password_hash(<span class="title">self</span>.<span class="title">_password</span>, <span class="title">raw</span>)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p> 简单的就不说了，我们看到上面的代码，应该对下面几点有一些疑问。</p>
</blockquote>
<h3 id="两个password函数"><a href="#两个password函数" class="headerlink" title="两个password函数"></a>两个password函数</h3><blockquote>
<p> 这里两个函数是为了处理密码字段，我们知道我们在数据库中储存的密码数据都是加密后的，我们对用户提交的数据分装时可能会使用下面的代码将form对象映射成User对象<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user = User()</span><br><span class="line">user.set_attrs(form.data)</span><br><span class="line">=====================</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_attrs</span><span class="params">(<span class="keyword">self</span>, attrs_dict)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> attrs_dict.items()<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">if</span> hasattr(<span class="keyword">self</span>, key) <span class="keyword">and</span> key != <span class="string">'id'</span><span class="symbol">:</span></span><br><span class="line">                setattr(<span class="keyword">self</span>, key, value)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p> 这个set_attrs函数我们放在所有对象都继承了的Base类中，这个类可以存储一些共有字段和方法。<br>上面的set_attrs也会将密码字段映射过去，但我们需要的是加密后的密码，所有我们使用@property构造一个password字段，并使用 @password.setter限制它的赋值，这样我们就将加密操作直接封装了，调用者看不到任何痕迹。</p>
</blockquote>
<h3 id="check-password函数"><a href="#check-password函数" class="headerlink" title="check_password函数"></a>check_password函数</h3><blockquote>
<p> 这个函数判断传入的密码加密后是否和原对象的密码相同，这属于方法的封装，我们要注意要把User对象应该有的方法都封装进来。</p>
</blockquote>
<h3 id="UserMixin"><a href="#UserMixin" class="headerlink" title="UserMixin"></a>UserMixin</h3><blockquote>
<p> 这个会在用户权限管理插件里讲。</p>
</blockquote>
<h2 id="超级强大的用户权限管理插件flask-login"><a href="#超级强大的用户权限管理插件flask-login" class="headerlink" title="超级强大的用户权限管理插件flask_login"></a>超级强大的用户权限管理插件flask_login</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv <span class="keyword">install</span> falsk_login</span><br></pre></td></tr></table></figure>
<h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 主文件</span><br><span class="line">login_manager = LoginManager()</span><br><span class="line">...</span><br><span class="line"> login_manager.init_app(app)</span><br><span class="line">login_manager.login_view = <span class="string">'web.login'</span> # 告诉插件我们登录的视图函数,未授权时会自动跳转到该界面，并flash一条消息</span><br><span class="line">login_manager.login_message = <span class="string">'请先登录或注册'</span> # 在跳转后的url中有next指向前一个页面，可以在login中编写逻辑</span><br></pre></td></tr></table></figure>
<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><blockquote>
<p>我们在使用时只需使用<code>login_user(user, remember=True)</code>就可以保存用户的信息在cookie中，具体时间需要修改配置项，默认是365天，remember=True设定了cookie不是关闭浏览器就失效。<br>这里插件如何知道要把User的什么值储存在cookie中呢？这就要用到我们上面没有解释的UserMixin，它帮我们实现了如get_id函数等方法，使插件可以获取能表示用户身份的参数，但是要只有UserMixin中默认的参数是id，但是如果不是用id表示身份，就需要重写get_id()方法<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_id</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">self</span>.myId</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="限制未登录的用户访问"><a href="#限制未登录的用户访问" class="headerlink" title="限制未登录的用户访问"></a>限制未登录的用户访问</h3><blockquote>
<p> 我们只需在对应的路由函数上加上@login_required就可以了<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@web</span>.route(<span class="string">'/my/gifts'</span>)</span><br><span class="line"><span class="variable">@login_required</span> </span><br><span class="line">def my_gifts():</span><br><span class="line">    return <span class="string">'My Gifts'</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>这里要让框架起作用还要告诉框架如何查询对应的用户（这时Cookie中只有id，框架要判断存不存在这样的用户呀，毕竟cookie是可以修改的）<br>  还需要编写一个函数，在User对象中导入<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> app <span class="keyword">import</span> login_manager</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p> 并在与User类平级上创建函数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(...)</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">@login_manager.user_loader</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_user</span><span class="params">(uid)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> User.query.get(int(uid))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p> 上述方法指定了如何判断用户是否存在<br> 这时未登录的用户访问gift页面就会跳转到登录页面（前面有设定），我们还要在用户登录后再跳转到用户最开始访问的页面呀，框架也帮我们想好了，他会在登录页面后加上next=…，带上开始访问的地址，我们只需要<code>next = request.args.get(&#39;next&#39;)</code>就可以在用户登录后获取到这个地址，请注意这个地方存在重定向攻击的风险，我们需要判断next后的地址不会跳转到奇怪的地方。<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">next</span> = request.args.<span class="keyword">get</span>(<span class="comment">'next')</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">next</span> <span class="keyword">or</span> <span class="keyword">not</span> <span class="keyword">next</span>.startswith(<span class="comment">'/'):</span></span><br><span class="line">    <span class="keyword">next</span> = url_for(<span class="comment">'web.index')</span></span><br><span class="line"><span class="keyword">return</span> redirect(<span class="keyword">next</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h2><blockquote>
<p> Flask中的表单算是比较简单的了，我们简单的介绍一下</p>
</blockquote>
<h3 id="表单模型的构建"><a href="#表单模型的构建" class="headerlink" title="表单模型的构建"></a>表单模型的构建</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterForm</span><span class="params">(Form)</span>:</span></span><br><span class="line">    email = StringField(validators=[DataRequired(), Length(<span class="number">8</span>, <span class="number">64</span>),</span><br><span class="line">                                    Email(message=<span class="string">'电子邮箱不符合规范'</span>)])</span><br><span class="line"></span><br><span class="line">    password = PasswordField(validators=[</span><br><span class="line">        DataRequired(message=<span class="string">'密码不可以为空，请输入你的密码'</span>), Length(<span class="number">6</span>, <span class="number">32</span>)</span><br><span class="line">    ])</span><br><span class="line"></span><br><span class="line">    nickname = StringField(validators=[</span><br><span class="line">        DataRequired(), Length(<span class="number">2</span>, <span class="number">10</span>, message=<span class="string">'昵称至少需要两个字符，最多10个字符'</span>)</span><br><span class="line">    ])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate_email</span><span class="params">(self, field)</span>:</span>  <span class="comment"># wtf会对 validate_后的字段自动校验</span></span><br><span class="line">        <span class="comment"># db.session</span></span><br><span class="line">        <span class="keyword">if</span> User.query.filter_by(email=field.data).first():</span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">'电子邮件已被注册'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate_nickname</span><span class="params">(self, field)</span>:</span>  <span class="comment"># wtf会对 validate_后的字段自动校验</span></span><br><span class="line">        <span class="comment"># db.session</span></span><br><span class="line">        <span class="keyword">if</span> User.query.filter_by(nickname=field.data).first():</span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">'昵称已经存在'</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p> 要注意后面的几个方法，框架会自动检测validate_后的值，在这里我们可以查询数据库等操作。</p>
</blockquote>
<h3 id="简单的使用"><a href="#简单的使用" class="headerlink" title="简单的使用"></a>简单的使用</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">form</span> = RegisterForm(request.<span class="keyword">form</span>)</span><br><span class="line"><span class="keyword">if</span> request.method == '<span class="keyword">POST</span>' and <span class="keyword">form</span>.validate():</span><br><span class="line">    user = User()</span><br><span class="line">    user.set_attrs(<span class="keyword">form</span>.data)</span><br><span class="line">    <span class="keyword">db</span>.session.add(user)</span><br><span class="line">    <span class="keyword">db</span>.session.commit()</span><br><span class="line">    redirect(url_for('web.login'))  # 接收end_point</span><br><span class="line"><span class="keyword">return</span> render_template('auth/register.html', <span class="keyword">form</span>=<span class="keyword">form</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p> Flask中的<a href="http://www.pythondoc.com/flask-sqlalchemy/" target="_blank" rel="noopener">数据库查询操作</a>可以简单了解一下。</p>
</blockquote>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/04/11/configs/sorts/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/04/11/Flask学习与Python进阶-5-页面与用户/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpg" alt="wsdevotion's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        wwg377655460@126.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Python/">Python<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/Python/Flask/">Flask<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/Python/ML/">ML<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/想法/">想法<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/移动端访问/">移动端访问<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间线">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间线
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">10</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/wsdevotion" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Wsdevotion's Bolg
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->

<script type="text/ls-javascript" id="Bing-Background-script">
    queue.offer(function(){
        $('body').attr('data-original', 'https://api.i-meto.com/bing?');
    });
</script>


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
